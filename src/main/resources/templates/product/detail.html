<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chi tiết sản phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">

<div class="container py-5">
    <!-- PRODUCT IMAGE -->
    <img
            th:src="${product.imageUrl != null ? product.imageUrl : 'https://via.placeholder.com/600x400?text=No+Image'}"
            class="img-fluid rounded shadow mb-4"
            style="max-height: 350px; object-fit: cover;"
            alt="Product image"
    />

    <h2 class="text-info" th:text="${product.name}"></h2>
    <p th:text="${product.description}"></p>

    <form th:action="@{/cart/add}" method="post">

        <div class="mb-3">
            <label class="form-label">Phân loại</label>
            <select name="variantId" class="form-select" required>
                <option th:each="v : ${variants}"
                        th:value="${v.id}"
                        th:text="'Size ' + ${v.size} + ' - ' + ${v.color} + ' - ' +
                                 ${#numbers.formatDecimal(v.price,0,'COMMA',0,'POINT')} + ' ₫'">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label>Số lượng</label>
            <input type="number" name="quantity" class="form-control"
                   min="1" value="1">
        </div>

        <button type="submit" class="btn btn-info fw-bold">Thêm vào giỏ</button>
        <a th:href="@{/products}" class="btn btn-outline-light ms-2">⬅ Quay lại</a>
    </form>
</div>

</body>
</html>
